<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="megakit,business,company,agency,multipurpose,modern,bootstrap4">
  
  <meta name="author" content="themefisher.com">

  <title>Blog</title>

	  <link th:insert="common/csss.html">

</head>

<body>
	<!-- Navigation -->
	<nav th:insert="common/navigation.html"></nav>

	<div class="main-wrapper">
		<section class="section blog-wrap bg-gray">
			<div class="container">
				<!--
				<div class="row pb-3">
					<h1 th:if = "${blogHomeDto.tag} != null" th:text = "'# ' + ${blogHomeDto.tag}"># 태그</h1>
					<h1 th:unless = "${blogHomeDto.tag} != null"># 게시글</h1>
				</div>
				-->

				<div class="row">


					<div class="col-lg-3">
						<div class="sidebar-wrap">

							<!-- search -->
							<div class="sidebar-widget search card p-4 mb-3 border-0">
								<form class="contact-form bg-white rounded" th:action="@{/posts/{authorId} (authorId=${authorId})}" method="GET">
									<input type="text" class="form-control" placeholder="search" name="q">
								</form>
							</div>


							<!-- memberTags -->
							<div class="sidebar-widget bg-white p-4 mb-3">
								<h5 class="mb-4">태그 목록</h5>
								<div>
									<a th:if="${page.isNoConditionSearch()}" style="color:#20c997;" th:text="'전체보기('+${memberTags.size}+')'">전체보기</a>
									<a th:unless="${page.isNoConditionSearch()}" th:href="@{/posts/{authorId} (authorId = ${authorId})}" th:text="'전체보기('+${memberTags.size}+')'">전체보기</a>
								</div>
								<th:block th:each="memberTag : ${memberTags}">
									<div>
										<a th:if="${page.isTagConditionSearch()} and ${page.tag.equals(memberTag.tagName)}" style="color:#20c997;" th:text="${memberTag.tagName}+'('+${memberTag.tagCount}+')'"></a>
										<a th:unless="${page.isTagConditionSearch()} and ${page.tag.equals(memberTag.tagName)}" th:href="@{/posts/{authorId} (authorId = ${memberTag.authorId}, tag=${memberTag.tagName})}" th:text="${memberTag.tagName}+'('+${memberTag.tagCount}+')'">전체보기</a>
									</div>
								</th:block>
							</div>
						</div>
					</div>

					<div class="col-lg-9">
						<div class="row">
							<th:block th:each="post : ${page.posts}">
								<div class="col-lg-12 col-md-6 mb-5">
									<div class="blog-item">

										<!-- <img src="images/blog/1.jpg" alt="" class="img-fluid rounded"> -->

										<div class="blog-item-content bg-white p-4">
											<!--
                                            <div class="blog-item-meta  py-1 px-2">
                                                <span class="text-muted text-capitalize mr-3"><i class="ti-pencil-alt mr-2"></i>Creativity</span>
                                            </div>
                                            -->
											<h1 class="mt-3 mb-3"><a th:text="${post.title}" th:href="@{/posts/{authorId}/{url} (authorId=${post.author.id}, url=${post.url})}"></a></h1>
											<p class="mb-4" th:text="${post.preview}"></p>


											<div class="bg-white rounded tags mb-3">
												<th:block th:each="postWithTag : ${post.postWithTags}">
													<a th:text="${postWithTag.tag.name}" th:href="@{/posts/{authorId} (authorId = ${post.author.id}, tag=${postWithTag.tag.name})}"></a>
												</th:block>
											</div>

											<!-- Comment count
                                            <a href="blog-single.html" class="btn btn-small btn-main btn-round-full">Learn More</a>
                                            -->
											<p class="mb-4" th:text="${post.getCreatedDateYYYYMMDD()}">게시글 생성 날짜</p>
										</div>
									</div>
								</div>
							</th:block>
						</div>
					</div>

				</div>

				<div class="row mt-5">
					<div class="col-lg-8">
						<nav class="navigation pagination py-2 d-inline-block">
							<div class="nav-links">
								<!-- Prev -->
								<a th:if="!${page.isFirstPage()}" class="prev page-numbers" th:href="@{/posts/{authorId} (authorId=${authorId}, p=${page.currentPage}-1), q=${page.q}, tag=${page.tag}}">Prev</a>
								<a th:unless="!${page.isFirstPage()}" class="prev page-numbers">Prev</a>

								<!-- toFirst -->
								<th:block th:if="${page.isNeedButtonToFirst()}">
									<a class="page-numbers" th:href="@{/posts/{authorId} (authorId=${authorId}, p=1, q=${page.q}, tag=${page.tag})}">1</a>
									<span style="color:#c9c9c9">...</span>
								</th:block>


								<!-- page List -->
								<th:block th:each="num : ${page.pageNumbers}">
									<span th:if="${num} == ${page.currentPage}" class="page-numbers current" style="color:#20c997;" th:text="${num}">current Page</span>
									<a th:unless="${num} == ${page.currentPage}" class="page-numbers current" style="color:#242424;" th:text="${num}" th:href="@{/posts/{authorId} (authorId=${authorId}, p=${num}, q=${page.q}, tag=${page.tag})}">Pages</a>
								</th:block>

								<!-- toLast -->
								<th:block th:if="${page.isNeedButtonToLast()}">
									<span style="color:#c9c9c9">...</span>
									<a class="page-numbers" th:href="@{/posts/{authorId} (authorId=${authorId}, p=${page.totalPages}, q=${page.q}, tag=${page.tag})}" th:text="${page.totalPages}">max page</a>
								</th:block>

								<!-- Next -->
								<a th:if="!${page.isLastPage()}" class="prev page-numbers" th:href="@{/posts/{authorId} (authorId=${authorId}, p=${page.currentPage}+1, q=${page.q}, tag=${page.tag})}">Next</a>
								<a th:unless="!${page.isLastPage()}" class="prev page-numbers">Next</a>

							</div>
						</nav>
					</div>
				</div>
			</div>
		</section>

		<!-- footer-->
		<footer th:insert="common/footer.html"></footer>

	</div>

	<!-- Essential Scripts -->
	<meta th:insert="common/scripts.html">

  </body>
  </html>